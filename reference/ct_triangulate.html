<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Constrained Delaunay Triangulation — ct_triangulate • sfdct</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Constrained Delaunay Triangulation — ct_triangulate" />
<meta property="og:description" content="Triangulate simple features including the input edges as constraints, rather than
being bounded to the convex hull." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sfdct</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/sfdct.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/hypertidy/sfdct/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Constrained Delaunay Triangulation</h1>
    <small class="dont-index">Source: <a href='https://github.com/hypertidy/sfdct/blob/master/R/sfdct.R'><code>R/sfdct.R</code></a></small>
    <div class="hidden name"><code>ct_triangulate.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Triangulate simple features including the input edges as constraints, rather than
being bounded to the convex hull.</p>
    </div>

    <pre class="usage"><span class='fu'>ct_triangulate</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for POINT</span>
<span class='fu'>ct_triangulate</span><span class='op'>(</span><span class='va'>x</span>, trim <span class='op'>=</span> <span class='cn'>TRUE</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for MULTIPOINT</span>
<span class='fu'>ct_triangulate</span><span class='op'>(</span><span class='va'>x</span>, trim <span class='op'>=</span> <span class='cn'>TRUE</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for GEOMETRYCOLLECTION</span>
<span class='fu'>ct_triangulate</span><span class='op'>(</span><span class='va'>x</span>, trim <span class='op'>=</span> <span class='cn'>TRUE</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for sfg</span>
<span class='fu'>ct_triangulate</span><span class='op'>(</span><span class='va'>x</span>, trim <span class='op'>=</span> <span class='cn'>TRUE</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for sfc</span>
<span class='fu'>ct_triangulate</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for sf</span>
<span class='fu'>ct_triangulate</span><span class='op'>(</span><span class='va'>x</span>, trim <span class='op'>=</span> <span class='cn'>TRUE</span>, <span class='va'>...</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>simple feature geometry or data frame</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>arguments for <code><a href='https://rdrr.io/pkg/RTriangle/man/triangulate.html'>triangulate</a></code>, see details</p></td>
    </tr>
    <tr>
      <th>trim</th>
      <td><p>drop triangles that fall "outside" i.e. "holes" and non-convex regions, <code>TRUE</code> by default</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>simple feature column <code><a href='https://r-spatial.github.io/sf/reference/sfc.html'>st_sfc</a></code> or data frame <code><a href='https://r-spatial.github.io/sf/reference/sfc.html'>st_sfc</a></code></p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This is not a Delaunay Triangulation by default, but is "mostly-Delaunay". Use the <code>D = TRUE</code> option,
passed to the underlying function in RTriangle to ensure the criterion is met, as well as edge constraints.</p>
<p>All POLYGON, LINESTRING, MULTIPOLYGON, and MULTILINESTRING inputs (including those in GEOMETRYCOLLECTION)
are broken down into line segments that are included in the mesh. Holes are removed
by default, but can be retained with the <code>trim</code> argument.</p>
<p>The triangles are collected as POLYGONs within a GEOMETRYCOLLECTION, and in the case of an <code>sf</code> object
it's returned within the original input data frame.</p>
<p>There's no way in this package to retain the set of shared vertices, or the segment or
the triangle indices. It is a fundamental feature of the standard, that this information is not represented.</p>
<p>Further arguments may be passed down to the underlying triangulation function <code><a href='https://rdrr.io/pkg/RTriangle/man/triangulate.html'>triangulate</a></code>.
Note that planar coordinates are assumed, no matter what projection the input is in. There's no
sensible meaning to a value for <code>a</code> in units m^2 for a layer that is in longitude/latitude, for those
use "area in square degrees", the straightforward meaning in planar coordinates.
These arguments are, from the documentation of that function:</p><ul>
<li><p>a a Maximum triangle area. If specified, triangles cannot be
larger than this area.</p></li>
<li><p>q Minimum triangle angle in degrees.</p></li>
<li><p>Y If <code>TRUE</code> prohibits the insertion of Steiner points
on the mesh boundary.</p></li>
<li><p>j If <code>TRUE</code> jettisons vertices that are not part of
the final triangulation from the output.</p></li>
<li><p>D If <code>TRUE</code> produce a conforming Delaunay
triangulation. This ensures that all the triangles in the mesh are
truly Delaunay, and not merely constrained Delaunay.  This option
invokes Ruppert's original algorithm, which splits every
subsegment whose diametral circle is encroached.  It usually
increases the number of vertices and triangles.</p></li>
<li><p>S Specifies the maximum number of added Steiner points.</p></li>
<li><p>V Verbosity level. Specify higher values  for more detailed
information about what the Triangle library is doing.</p></li>
<li><p>Q If <code>TRUE</code> suppresses all explanation of what the
Triangle library is doing, unless an error occurs.</p></li>
</ul>

    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>GEOMETRYCOLLECTION as input is not yet supported.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://r-spatial.github.io/sf/'>sf</a></span><span class='op'>)</span>
<span class='va'>nc</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://r-spatial.github.io/sf/reference/st_read.html'>read_sf</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span><span class='op'>(</span><span class='st'>"shape/nc.shp"</span>, package<span class='op'>=</span><span class='st'>"sf"</span><span class='op'>)</span>, quiet <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
<span class='va'>nc_triangles</span> <span class='op'>&lt;-</span> <span class='fu'>ct_triangulate</span><span class='op'>(</span><span class='va'>nc</span><span class='op'>[</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"NAME"</span>, <span class='st'>"geometry"</span><span class='op'>)</span><span class='op'>]</span><span class='op'>)</span>
<span class='fu'><a href='https://r-spatial.github.io/sf/reference/plot.html'>plot</a></span><span class='op'>(</span><span class='va'>nc</span><span class='op'>[</span>, <span class='st'>"NAME"</span><span class='op'>]</span><span class='op'>)</span>
</div><div class='input'><span class='fu'><a href='https://r-spatial.github.io/sf/reference/plot.html'>plot</a></span><span class='op'>(</span><span class='va'>nc_triangles</span>, add <span class='op'>=</span> <span class='cn'>TRUE</span>, col <span class='op'>=</span> <span class='cn'>NA</span>, lty <span class='op'>=</span> <span class='st'>"dotted"</span><span class='op'>)</span>
</div><div class='img'><img src='ct_triangulate-1.png' alt='' width='700' height='433' /></div><div class='input'><span class='va'>idx</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>4</span>, <span class='fl'>5</span>, <span class='fl'>6</span>, <span class='fl'>7</span>, <span class='fl'>8</span>, <span class='fl'>20</span>, <span class='fl'>21</span><span class='op'>)</span>
<span class='va'>op</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/graphics/par.html'>par</a></span><span class='op'>(</span>mfrow <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>2</span>, <span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/utils/packageDescription.html'>packageVersion</a></span><span class='op'>(</span><span class='st'>"sf"</span><span class='op'>)</span> <span class='op'>&lt;=</span> <span class='st'>'0.2.8'</span><span class='op'>)</span><span class='op'>{</span>
<span class='va'>nc</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://r-spatial.github.io/sf/reference/st_transform.html'>st_transform</a></span><span class='op'>(</span><span class='va'>nc</span>, <span class='st'>"+proj=eqc +ellps=WGS84"</span><span class='op'>)</span>
<span class='op'>}</span>

<span class='fu'><a href='https://r-spatial.github.io/sf/reference/plot.html'>plot</a></span><span class='op'>(</span><span class='fu'><a href='https://r-spatial.github.io/sf/reference/geos_unary.html'>st_triangulate</a></span><span class='op'>(</span><span class='va'>nc</span><span class='op'>[</span><span class='va'>idx</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"NAME"</span>, <span class='st'>"geometry"</span><span class='op'>)</span><span class='op'>]</span><span class='op'>)</span>, col <span class='op'>=</span> <span class='st'>"grey"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='warning'>Warning: st_triangulate does not correctly triangulate longitude/latitude data</span></div><div class='img'><img src='ct_triangulate-2.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'>## Warning ct_triangulate does correctly triangulate longitude/latitude data</span>
<span class='fu'><a href='https://r-spatial.github.io/sf/reference/plot.html'>plot</a></span><span class='op'>(</span><span class='fu'>ct_triangulate</span><span class='op'>(</span><span class='va'>nc</span><span class='op'>[</span><span class='va'>idx</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"NAME"</span>, <span class='st'>"geometry"</span><span class='op'>)</span><span class='op'>]</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='img'><img src='ct_triangulate-3.png' alt='' width='700' height='433' /></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Michael D. Sumner.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.9000.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


