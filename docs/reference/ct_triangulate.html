<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Constrained Delaunay Triangulation — ct_triangulate • sfdct</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">sfdct</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/r-gris/sfdct">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Constrained Delaunay Triangulation</h1>
    </div>

    
    <p>Triangulate simple features including the input edges as constraints, rather than
being bounded to the convex hull.</p>
    

    <pre class="usage"><span class='fu'>ct_triangulate</span>(<span class='no'>x</span>, <span class='no'>...</span>)

<span class='co'># S3 method for POINT</span>
<span class='fu'>ct_triangulate</span>(<span class='no'>x</span>, <span class='kw'>trim</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='no'>...</span>)

<span class='co'># S3 method for MULTIPOINT</span>
<span class='fu'>ct_triangulate</span>(<span class='no'>x</span>, <span class='kw'>trim</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='no'>...</span>)

<span class='co'># S3 method for GEOMETRYCOLLECTION</span>
<span class='fu'>ct_triangulate</span>(<span class='no'>x</span>, <span class='kw'>trim</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='no'>...</span>)

<span class='co'># S3 method for sfg</span>
<span class='fu'>ct_triangulate</span>(<span class='no'>x</span>, <span class='kw'>trim</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='no'>...</span>)

<span class='co'># S3 method for sfc</span>
<span class='fu'>ct_triangulate</span>(<span class='no'>x</span>, <span class='no'>...</span>)

<span class='co'># S3 method for sf</span>
<span class='fu'>ct_triangulate</span>(<span class='no'>x</span>, <span class='kw'>trim</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>simple feature geometry or data frame</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>arguments for <code><a href='http://www.rdocumentation.org/packages/RTriangle/topics/triangulate'>triangulate</a></code>, see details</p></td>
    </tr>
    <tr>
      <th>trim</th>
      <td><p>drop triangles that fall "outside" i.e. "holes" and non-convex regions, <code>TRUE</code> by default</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>simple feature column <code><a href='http://www.rdocumentation.org/packages/sf/topics/sfc'>st_sfc</a></code> or data frame <code><a href='http://www.rdocumentation.org/packages/sf/topics/sfc'>st_sfc</a></code></p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This is not a Delaunay Triangulation by default, but is "mostly-Delaunay". Use the <code>D = TRUE</code> option,
passed to the underlying function in RTriangle to ensure the criterion is met, as well as edge constraints.</p>
<p>All POLYGON, LINESTRING, MULTIPOLYGON, and MULTILINESTRING inputs (including those in GEOMETRYCOLLECTION)
are broken down into line segments that are included in the mesh. Holes are removed
by default, but can be retained with the <code>trim</code> argument.</p>
<p>The triangles are collected as POLYGONs within a GEOMETRYCOLLECTION, and in the case of an <code>sf</code> object
it's returned within the original input data frame.</p>
<p>There's no way in this package to retain the set of shared vertices, or the segment or
the triangle indices. It is a fundamental feature of the standard, that this information is not represented.</p>
<p>Further arguments may be passed down to the underlying triangulation function <code><a href='http://www.rdocumentation.org/packages/RTriangle/topics/triangulate'>triangulate</a></code>.
Note that planar coordinates are assumed, no matter what projection the input is in. There's no
sensible meaning to a value for <code>a</code> in units m^2 for a layer that is in longitude/latitude, for those
use "area in square degrees", the straightforward meaning in planar coordinates.
These arguments are, from the documention of that function:</p><ul>
<li><p>a a Maximum triangle area. If specified, triangles cannot be
larger than this area.</p></li>
<li><p>q Minimum triangle angle in degrees.</p></li>
<li><p>Y If <code>TRUE</code> prohibits the insertion of Steiner points
on the mesh boundary.</p></li>
<li><p>j If <code>TRUE</code> jettisons vertices that are not part of
the final triangulation from the output.</p></li>
<li><p>D If <code>TRUE</code> produce a conforming Delaunay
triangulation. This ensures that all the triangles in the mesh are
truly Delaunay, and not merely constrained Delaunay.  This option
invokes Ruppert's original algorithm, which splits every
subsegment whose diametral circle is encroached.  It usually
increases the number of vertices and triangles.</p></li>
<li><p>S Specifies the maximum number of added Steiner points.</p></li>
<li><p>V Verbosity level. Specify higher values  for more detailed
information about what the Triangle library is doing.</p></li>
<li><p>Q If <code>TRUE</code> suppresses all explanation of what the
Triangle library is doing, unless an error occurs.</p></li>
</ul>
    
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>GEOMETRYCOLLECTION as input is not yet supported.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>library</span>(<span class='no'>sf</span>)
<span class='no'>nc</span> <span class='kw'>&lt;-</span> <span class='fu'>st_read</span>(<span class='fu'>system.file</span>(<span class='st'>"shape/nc.shp"</span>, <span class='kw'>package</span><span class='kw'>=</span><span class='st'>"sf"</span>))</div><div class='output co'>#&gt; Reading layer `nc' from data source `/usr/local/lib/R/site-library/sf/shape/nc.shp' using driver `ESRI Shapefile'
#&gt; converted into: POLYGON
#&gt; Simple feature collection with 100 features and 14 fields
#&gt; geometry type:  MULTIPOLYGON
#&gt; dimension:      XY
#&gt; bbox:           xmin: -84.32385 ymin: 33.88199 xmax: -75.45698 ymax: 36.58965
#&gt; epsg (SRID):    4267
#&gt; proj4string:    +proj=longlat +datum=NAD27 +no_defs</div><div class='input'><span class='no'>nc_triangles</span> <span class='kw'>&lt;-</span> <span class='fu'>ct_triangulate</span>(<span class='no'>nc</span>[, <span class='fu'>c</span>(<span class='st'>"NAME"</span>, <span class='st'>"geometry"</span>)])
<span class='fu'>plot</span>(<span class='no'>nc</span>[, <span class='st'>"NAME"</span>])</div><div class='input'><span class='fu'>plot</span>(<span class='no'>nc_triangles</span>, <span class='kw'>add</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>col</span> <span class='kw'>=</span> <span class='fl'>NA</span>, <span class='kw'>lty</span> <span class='kw'>=</span> <span class='st'>"dotted"</span>)</div><img src='ct_triangulate-5.png' alt='' width='540' height='400' /><div class='input'><span class='no'>idx</span> <span class='kw'>&lt;-</span> <span class='fu'>c</span>(<span class='fl'>4</span>, <span class='fl'>5</span>, <span class='fl'>6</span>, <span class='fl'>7</span>, <span class='fl'>8</span>, <span class='fl'>20</span>, <span class='fl'>21</span>)
<span class='no'>op</span> <span class='kw'>&lt;-</span> <span class='fu'>par</span>(<span class='kw'>mfrow</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>2</span>, <span class='fl'>1</span>))
<span class='kw'>if</span> (<span class='fu'>packageVersion</span>(<span class='st'>"sf"</span>) <span class='kw'>&lt;=</span> <span class='st'>'0.2.8'</span>){
<span class='no'>nc</span> <span class='kw'>&lt;-</span> <span class='fu'>st_transform</span>(<span class='no'>nc</span>, <span class='st'>"+proj=eqc +ellps=WGS84"</span>)
}

<span class='fu'>plot</span>(<span class='fu'>st_triangulate</span>(<span class='no'>nc</span>[<span class='no'>idx</span>, <span class='fu'>c</span>(<span class='st'>"NAME"</span>, <span class='st'>"geometry"</span>)]), <span class='kw'>col</span> <span class='kw'>=</span> <span class='st'>"grey"</span>)</div><div class='output co'>#&gt; <span class='warning'>Warning: st_triangulate does not correctly triangulate longitude/latitude data</span></div><div class='input'><span class='fu'>plot</span>(<span class='fu'>ct_triangulate</span>(<span class='no'>nc</span>[<span class='no'>idx</span>, <span class='fu'>c</span>(<span class='st'>"NAME"</span>, <span class='st'>"geometry"</span>)]))</div><img src='ct_triangulate-9.png' alt='' width='540' height='400' /><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#note">Note</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Michael D. Sumner.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
